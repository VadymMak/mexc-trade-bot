# =========================
# DEBUG & LOGGING
# =========================
LOG_LEVEL=WARNING
DEBUG=0
HTTP_DEBUG_GATE=0
HTTP_DEBUG_LOGGING=false
PAPER_DEBUG=1

# =========================
# TIMEOUTS & RETRIES (‚úÖ OPTIMIZED)
# =========================
SCAN_ENDPOINT_TIMEOUT_SEC=30

# REST Client
REST_TIMEOUT_SEC=5.0
REST_RETRY_ATTEMPTS=1
REST_RETRY_BACKOFF_MS=500
REST_RETRY_BACKOFF_FACTOR=2.0
REST_BACKOFF_MAX_SEC=60.0

# HTTP Polling
HTTP_POLL_INTERVAL_SEC=1.0
HTTP_UNAVAILABLE_THRESHOLD=5
HTTP_MAX_CONCURRENT_REQUESTS=10
POLL_INTERVAL_SEC=2.0
DEPTH_LIMIT=20

# WebSocket
WS_OPEN_TIMEOUT=20
WS_CLOSE_TIMEOUT=5
WS_PING_INTERVAL_SEC=20
WS_PING_TIMEOUT=10.0
WS_RECV_TIMEOUT_MULTIPLIER=2.5
WS_VERBOSE_FRAMES=false
WS_VERBOSE_HEXDUMP=false
WS_DEBUG_JSON_PARITY=false
WS_DEBUG_PB_VARIANTS=false

# =========================
# SCANNER CONCURRENCY
# =========================
GATE_SCAN_CONCURRENCY=12
MEXC_SCAN_CONCURRENCY=10

# Gate-specific
GATE_DEPTH_LIMIT=10

# =========================
# PROVIDER SELECTION
# =========================
ACTIVE_PROVIDER=MEXC
ACTIVE_MODE=DEMO

# Legacy (ignored if ACTIVE_* set)
EXCHANGE_PROVIDER=GATE
ACCOUNT_MODE=demo

# =========================
# FEATURE TOGGLES
# =========================
# üîß UPDATED: Reduced from 20 to 10 symbols to avoid WS topic limit (30 max)
# Selected based on actual performance metrics from LiquidityScanner
# 10 symbols √ó 2 channels = 20 topics ‚úÖ (well below 30 limit)
SYMBOLS=NEARUSDT,LINKUSDT,ALGOUSDT,VETUSDT,AVAXUSDT

WS_BASE_URL_RESOLVED=
ENABLE_PS_POLLER=true
ENABLE_WS=true
WS_BASE_URL_RESOLVED=
ENABLE_PS_POLLER=true
ENABLE_WS=true

# =========================
# Gate.io TESTNET (for DEMO mode)
# =========================
GATE_TESTNET_API_KEY=e2e1ea59d28878ea6b9a2c160ddabd58
GATE_TESTNET_API_SECRET=e75b38ce201f83ca4c8b32ca9880f5899268237de76e7d3b14ccf84fcb327983
GATE_TESTNET_REST_BASE=https://api-testnet.gateapi.io/api/v4
GATE_TESTNET_WS_BASE=wss://ws-testnet.gate.com/v4/ws/spot

# Gate.io LIVE (production)
GATE_API_KEY=38af32f0ed0fa5687d742013c513e6a4
GATE_API_SECRET=f85a8ff51c7ff83d68b80e0e36de5ac17f7312727a5d224697ffca3bedcee92e
GATE_REST_BASE=https://api.gateio.ws/api/v4
GATE_WS_BASE=wss://api.gateio.ws/ws/v4/

# Per-exchange WS selection
GATE_WS_ENV=PRODUCTION

# Optional Gate fee overrides
# GATE_MAKER_FEE=0.0002
# GATE_TAKER_FEE=0.0006
# GATE_ZERO_FEE=false

# =========================
# Binance (not used)
# =========================
BINANCE_API_KEY=mdYGNHIANFYwOhXXKF3uIQj3jnXyxYRfT0F9irT6opk7TUk1hDOKeCp9AqO8Oh1L
BINANCE_API_SECRET=UjJvsWGKSTk6BTSxAmSC8iYcxC9lfM4DlmPE2NpL4ORUR98qvGv0rDEYjpHDW8Yf
BINANCE_REST_BASE=https://testnet.binance.vision
BINANCE_WS_BASE=wss://testnet.binance.vision/ws

# =========================
# MEXC (disabled)
# =========================
MEXC_API_KEY=mx0vglMqAeHTfRZPYR
MEXC_API_SECRET=0dcae79f3a0f4cc29378b74a98b88d45
MEXC_SECRET=0dcae79f3a0f4cc29378b74a98b88d45
MEXC_REST_BASE=https://api.mexc.com
REST_BASE_URL=https://api.mexc.com/api/v3
WS_URL_PUBLIC=wss://wbs-api.mexc.com/ws
WS_RATE_SUFFIX=@100ms

# =========================
# UI & CORS
# =========================
UI_ID=WEB1492f7dc210631f57ac5dca5e17c3f3516142645aeebdeba4c17976a150421ec
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,http://localhost:3000
ENABLE_UI_STATE=true
WORKSPACE_ID=1
UI_REVISION_SEED=1
MAX_WATCHLIST_BULK=50
SSE_RETRY_BASE_MS=1000
SSE_PING_INTERVAL_MS=5000

# =========================
# IDEMPOTENCY
# =========================
IDEMPOTENCY_ENABLED=true
IDEMPOTENCY_TTL_SECONDS=600
IDEMPOTENCY_BACKEND=memory
IDEMPOTENCY_REDIS_URL=

# =========================
# RISK & EXECUTION
# =========================
MAX_EXPOSURE_USD=5000
MAX_PER_SYMBOL_USD=500

# =========================
# PHASE 2: POSITION SIZING & SMART EXECUTOR
# =========================

# ‚ö†Ô∏è –°–ï–ô–ß–ê–°: $2 –¥–ª—è —Å–±–æ—Ä–∞ Dataset v2 (–Ω–µ –º–µ–Ω—è—Ç—å –¥–æ 5,000 —Å–¥–µ–ª–æ–∫!)
# üìä –ü–æ—Å–ª–µ 5,000 —Å–¥–µ–ª–æ–∫ + ML v2: —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ $50-200
TARGET_POSITION_SIZE_USD=2.0

# –°—Ç–∞—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
ORDER_SIZE_USD_MIN=1.0
ORDER_SIZE_USD_MAX=2.0
EXEC_TP_PCT=0.1
EXEC_CANCEL_TIMEOUT_SEC=10

# Smart Executor - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –±–æ–ª—å—à–∏—Ö –æ—Ä–¥–µ—Ä–æ–≤
SMART_EXECUTOR_ENABLED=true
SPLIT_LARGE_ORDERS=true
MAX_ORDER_SIZE_USD=50.0
MIN_SPLIT_DELAY_SEC=0.8
MAX_SPLIT_DELAY_SEC=1.2

# MM Detection - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ç–º–µ–π–∫–µ—Ä–∞
MM_DETECTION_ENABLED=true
MM_MIN_CONFIDENCE=0.7
AVOID_MM_DEPARTURE=true

# –†–µ–∂–∏–º —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (conservative | balanced | aggressive)
POSITION_SIZING_MODE=conservative

# ========================================
# ML Data Collection Settings
# ========================================

# –í–∫–ª—é—á–∏—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è ML (true/false)
ML_LOGGING_ENABLED=true

# –°–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è —Å–±–æ—Ä–∞ (CSV, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ML_LOGGING_SYMBOLS=TRXUSDT,LINKUSDT,VETUSDT,ALGOUSDT,DOTUSDT,MATICUSDT,XRPUSDT

# –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–Ω–∞–ø—à–æ—Ç–æ–≤ (—Å–µ–∫—É–Ω–¥—ã)
ML_LOGGING_INTERVAL_SEC=2.0

# Preset –¥–ª—è scanner –º–µ—Ç—Ä–∏–∫
ML_LOGGING_PRESET=hedgehog

# =========================
# DATABASE
# =========================
DATABASE_URL=sqlite:///C:/projects/mexc-trade-bot/backend/mexc.db
SQL_ECHO=false

# =========================
# RISK MANAGEMENT
# =========================
# Account Settings
RISK_ACCOUNT_BALANCE_USD=1000.0

# Daily Limits
RISK_DAILY_LOSS_LIMIT_PCT=2.0
# RISK_DAILY_PROFIT_TARGET_PCT=3.0  # Optional: alert when reached

# Symbol Limits
RISK_SYMBOL_MAX_LOSSES=3
RISK_SYMBOL_COOLDOWN_MINUTES=60

# Position Limits
RISK_MAX_EXPOSURE_PER_POSITION_PCT=20.0
RISK_MAX_POSITIONS_FIXED=10                    # ‚Üê –ù–û–í–ê–Ø –°–¢–†–û–ö–ê!
RISK_MAX_POSITIONS_DYNAMIC_DIVISOR=200

# Velocity Limits
RISK_MAX_TRADES_PER_HOUR=100
RISK_MAX_TRADES_PER_MINUTE=10

# Trading Hours (optional)
RISK_TRADING_HOURS_ENABLED=false
RISK_TRADING_HOURS_START=08:00
RISK_TRADING_HOURS_END=22:00

# Market Conditions
RISK_BTC_ATR_THRESHOLD_PCT=3.0
RISK_SPREAD_WIDENING_MULTIPLIER=2.5
RISK_VOLUME_DROP_THRESHOLD_PCT=50.0

# Error Limits
RISK_MAX_CONSECUTIVE_ERRORS=5
RISK_ERROR_WINDOW_MINUTES=5

# =========================
# TELEGRAM ALERTS
# =========================
# Bot Configuration
TELEGRAM_ENABLED=true
TELEGRAM_BOT_TOKEN=8277487889:AAECdVMpTCJ6lo1MtykyhYYjeJMBmu9cpYw
TELEGRAM_CHAT_ID=6523522918

# Quiet Hours
TELEGRAM_QUIET_HOURS_ENABLED=true
TELEGRAM_QUIET_HOURS_START=23:00
TELEGRAM_QUIET_HOURS_END=07:00

# Alert Toggles (true/false –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞)
TELEGRAM_ALERT_DAILY_LOSS=true
TELEGRAM_ALERT_SYMBOL_COOLDOWN=true
TELEGRAM_ALERT_SYSTEM_ERRORS=true
TELEGRAM_ALERT_WS_DISCONNECT=true
TELEGRAM_ALERT_DAILY_REPORT=true

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# ML SETTINGS (UPDATED)
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

# Enable ML filtering
ML_ENABLED=true

# Path to XGBoost model (JSON format)
ML_MODEL_PATH=ml_models/mexc_ml_v3_2features.json

# Minimum confidence to enter trade (0.0 - 1.0)
ML_MIN_CONFIDENCE=0.5

# ML weight in combined score (0.0 - 1.0, max 0.2 recommended)
ML_WEIGHT=0.2

# Use ML as filter (recommended)
ML_USE_FILTER=true

# Use ML as weight in score (optional, conflicts with filter)
ML_USE_WEIGHT=false

ML_TRADE_LOGGING_ENABLED=true

# =========================
# EXPLORATION SETTINGS
# =========================
EXPLORATION_ENABLED=false
EXPLORATION_RATE=0.0